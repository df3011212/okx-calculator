<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OKX 槓桿獲利計算工具</title>
  <!-- 你的 CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="section yellow">
      <h2>開單速算表</h2>

      <label>選擇幣種
        <input id="symbolInput" list="symbolList"/>
        <datalist id="symbolList"></datalist>
      </label>

      <label>本金 USDT
        <input id="capital" type="number" value="1658"/>
      </label>

      <label>首次開倉價格（手動/市價切換）
        <input id="entryPrice" type="number" step="0.00001"/>
        <button id="togglePriceBtn">使用限價</button>
      </label>

      <label>保證金比例 (%)
        <input id="marginRatio" type="number" value="5"/>
      </label>

      <label>止損比例 (%)
        <input id="stoploss" type="number" value="7.52"/>
      </label>

      <label>最大虧損 USDT
        <input id="maxLoss" type="number" value="300"/>
      </label>

      <!-- 兩欄結果網格 -->
      <div class="results-grid">
        <div class="result-item">槓桿倍數：<span id="leverage"></span> 倍</div>
        <div class="result-item">總持倉量：<span id="position"></span></div>
        <div class="result-item">做多 成本：約 <span id="longMargin"></span> USDT</div>
        <div class="result-item">做空 成本：約 <span id="shortMargin"></span> USDT</div>
        <div class="result-item">剩餘可用資金：<span id="available"></span> USDT</div>
        <div class="result-item">維持保證金率：<span id="maintMarginRatio"></span>%</div>
        <div class="result-item">預估強平價格：<span id="liqPrice"></span> USDT</div>
      </div>

      <button id="saveBtn">💾 儲存紀錄</button>
    </div>
  </div>

  <!-- 浮動按鈕：功能 & 書籤 -->
  <button id="newFeatureBtn">🔧 功能</button>
  <button id="toggleHistoryBtn">📚 書籤</button>

  <!-- 書籤側欄 -->
  <div id="historySidebar">
    <h3>📖 書籤紀錄</h3>
    <div id="historyList"></div>
  </div>

  <!-- 功能選單 -->
  <div id="featureMenu" class="feature-menu-hidden">
    <button id="featureCloseBtn" class="feature-close">×</button>
    <div class="feature-title">功能選單</div>
    <div class="feature-menu-grid">
      <button data-feature="manualAvg">手動均價計算</button>
      <button data-feature="specifiedAvg">指定均價計算</button>
      <button data-feature="quickRevenge">反擊速算表</button>
      <button data-feature="advRevenge">高級反擊速算表</button>
    </div>
    <div id="featureContent" style="display:none;"></div>
  </div>

  <!-- 載入各功能模組 -->
  <script src="js/calc.js"></script>
  <script src="js/history.js"></script>
  <script src="js/features/manualAvg.js"></script>
  <script src="js/features/specifiedAvg.js"></script>
  <script src="js/features/quickRevenge.js"></script>
  <script src="js/features/advRevenge.js"></script>
  <script src="js/feature.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
