<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é¡Œç›®ç·¨è¼¯å™¨ & è§£é¡Œç³»çµ±</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background-color: #f9fafb;
      margin: 0;
      padding: 0 1rem;
      color: #333;
    }
    h1 {
      text-align: center;
      font-size: 1.75rem;
      margin: 1.5rem 0;
    }
    .card {
      background-color: #fff;
      border-radius: 1rem;
      padding: 1.25rem;
      margin-bottom: 1.25rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    .question-title {
      font-weight: bold;
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .options label {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1rem;
      background: #eef2f7;
      padding: 0.75rem 1rem;
      border-radius: 0.75rem;
      border: 1px solid #ccc;
    }
    .options input[type="radio"],
    .options input[type="checkbox"] {
      width: 1.25rem;
      height: 1.25rem;
    }
    .correct {
      background-color: #e8f5e9;
      border-color: #43a047;
    }
    .incorrect {
      background-color: #fdecea;
      border-color: #e53935;
    }
    .editor-area textarea {
      width: 100%;
      height: 300px;
      font-size: 1rem;
      padding: 1rem;
      border-radius: 0.75rem;
      border: 1px solid #ccc;
      font-family: monospace;
    }
    .hidden {
      display: none;
    }
    .result-box {
      width: auto;
      max-width: 768px;    /* å’Œ .card ä¸€æ¨£çš„å¯¬åº¦é™åˆ¶ */
      margin: 1rem auto;    /* ç½®ä¸­ä¸¦ä¸Šä¸‹ç•™ç™½ */
      box-sizing: border-box;
    }
    @media (min-width: 800px) {
  .result-box {
    margin: 2rem auto;
      }
    }
    .result-box.success {
      background: #d4edda;
      color: #155724;
    }
    .result-box.error {
      background: #f8d7da;
      color: #721c24;
    }
    button {
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 0.75rem;
      cursor: pointer;
      margin-top: 0.5rem;
    }
    .submit-btn {
      background-color: #2563eb;
      color: #fff;
      width: 100%;
    }
    .admin-tools,
    #unlockCard {
      margin-bottom: 1.5rem;
    }
    select,
    input[type="text"],
    input[type="password"] {
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
      font-size: 1rem;
      width: auto;
    }
    .delete-btn {
      background-color: #dc3545;
      color: white;
      padding: 0.25rem 0.75rem;
      font-size: 0.9rem;
      float: right;
      border-radius: 0.5rem;
    }
    @media (min-width: 768px) {
      body {
        padding: 1.5rem 2rem;
      }
      .card {
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
      }
      .submit-btn {
        max-width: 720px;
        margin: 0 auto;
        display: block;
      }
    }
    .editor-area textarea {
  width: 100%;
  height: 300px;
  font-size: 1rem;
  padding: 1rem;
  border-radius: 0.75rem;
  border: 1px solid #ccc;
  font-family: monospace;
}
.hidden {
  display: none;
}
button {
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  border: none;
  border-radius: 0.75rem;
  cursor: pointer;
  margin-top: 0.5rem;
}
.submit-btn {
  background-color: #2563eb;
  color: #fff;
  width: 100%;
}
.admin-tools,
#unlockCard {
  margin-bottom: 1.5rem;
}
select,
input[type="text"],
input[type="password"] {
  padding: 0.5rem;
  border-radius: 0.5rem;
  border: 1px solid #ccc;
  font-size: 1rem;
  width: auto;
}
.delete-btn {
  background-color: #dc3545;
  color: white;
  padding: 0.25rem 0.75rem;
  font-size: 0.9rem;
  float: right;
  border-radius: 0.5rem;
}
.result-box.error {
  background-color: #fff3f3;
  border: 1px solid #f5c2c7;
  color: #842029;
  padding: 1rem;
  border-radius: 0.75rem;
  font-size: 1rem;
  line-height: 1.6;
}

.result-box.error ul {
  padding-left: 1.2rem;
  margin-top: 0.5rem;
}

.result-box.error li {
  margin-bottom: 0.4rem;
}



@media (min-width: 768px) {
  body {
    padding: 1.5rem 2rem;
  }
  .card {
    max-width: 720px;
    margin-left: auto;
    margin-right: auto;
  }
  .submit-btn {
    max-width: 720px;
    margin: 0 auto;
    display: block;
  }
}
.correct-star {
  color: #43a047;    /* OKX ç¶  */
  margin-left: 0.5rem;
  font-size: 1.1rem;
  vertical-align: middle;
}


  </style>
</head>
<body>

<h1>ğŸ§  é¡Œç›®ç·¨è¼¯å™¨ & è§£é¡Œç³»çµ±</h1>

<div class="card admin-tools" id="adminPanel" style="display:none">
  <h2>â• é¡Œç›®ç®¡ç†å·¥å…·</h2>
  <label>æ–°å¢é¡Œç›®é¡å‹ï¼š
    <select id="newType">
      <option value="single">å–®é¸é¡Œ</option>
      <option value="multiple">å¤šé¸é¡Œ</option>
    </select>
  </label>
  <button onclick="addQuestion()">æ–°å¢é¡Œç›®</button>
  <button onclick="logout()">ğŸšª ç™»å‡º</button>
</div>

<!-- å¯†ç¢¼é©—è­‰å€ -->
<div class="card" id="unlockCard">
  <h2>ğŸ” è«‹è¼¸å…¥å¯†ç¢¼ä»¥ç·¨è¼¯é¡Œç›®</h2>
  <input type="password" id="passwordInput" placeholder="è¼¸å…¥å¯†ç¢¼">
  <button onclick="unlockEditor()">è§£é–</button>
</div>

<!-- é¡Œç›®ç·¨è¼¯å€ -->
<div class="card editor-area hidden" id="editorCard">
  <h2>âœï¸ ç·¨è¼¯é¡Œç›®ï¼ˆJSON æ ¼å¼ï¼‰</h2>
  <textarea id="editor"></textarea>
  <button onclick="renderQuestions()">ğŸ”„ é‡æ–°è¼‰å…¥é¡Œç›®</button>
</div>


<!-- é¡Œç›®ç”¢å‡ºå€ -->
<div class="card">
  <h2>ğŸ¯ åˆ¤æ–·åšå¤š/åšç©ºé›¢å ´é»-è€ƒè©¦é¡Œç›® ï¼Œå¤š+ç©ºé¡Œç›®ç¸½æ•¸48é¡Œ</h2>
  <label for="questionCount">é¡Œæ•¸ï¼š</label>
  <select id="questionCount">
    <option value="1">1 é¡Œ</option>
    <option value="2">2 é¡Œ</option>
    <option value="3">3 é¡Œ</option>
    <option value="5">5 é¡Œ</option>
    <option value="10">10 é¡Œ</option>
    <option value="24">24 é¡Œ(ä¸€åŠ)</option>
    <option value="48">48 é¡Œ(å…¨éƒ¨)</option>
  </select>
  <button onclick="generateQuestions()">ğŸ² ç”¢ç”Ÿé¡Œç›®</button>
  <button id="resetBankBtn" class="btn">ğŸ”„ ä¸€éµé‡ç½®é¡Œåº«</button>
</div>



<!-- è§£é¡Œçµæœæç¤º -->
<div id="result" class="result-box hidden"></div>

<!-- é¡Œç›®å‘ˆç¾å€ -->
<div id="questions"></div>

<!-- é€å‡ºç­”æ¡ˆæŒ‰éˆ• -->
<button class="submit-btn" onclick="submitAnswers()">âœ… é€å‡ºç­”æ¡ˆ</button>

<script>
let questions = [];
let editorUnlocked = false;
let selectedQuestions = [];
const LS_KEY = "question_bank";


document
  .getElementById("resetBankBtn")
  .addEventListener("click", () => {
    if (confirm("ç¢ºå®šè¦é‡ç½®ç‚ºå®Œæ•´çš„ 48 é¡Œå—ï¼Ÿé€™æœƒæ¸…é™¤æœ¬æ©Ÿæ‰€æœ‰å·²å­˜é¡Œåº«ã€‚")) {
      localStorage.removeItem(LS_KEY);
      location.reload();
    }
  });


function getDefaultQuestions() {
  return [
//åšå¤šçš„é¡Œç›®
//åšå¤šçš„é¡Œç›®
//åšå¤šçš„é¡Œç›®
//åšå¤šçš„é¡Œç›®
//åšå¤šçš„é¡Œç›®
{
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º SDUï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "MACD é»ƒç·šç©¿è¶Š EMA20",
      "Kæ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52",
      "RSI ä¸Šç©¿50"
    ],
    "answer": [
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "Kæ£’æ¼²åˆ°å“¥å“¥EMA52",
      "Kæ£’è·Œç ´å¸ƒæ—é€šé“ä¸‹è»Œ",
      "å‡ç·šç³¾çµçªç ´"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º WDUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°å“¥å“¥ EMA52",
      "Kæ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
      "Kæ£’è·Œç ´æ–¹å‘çš„ EMA52",
      "RSI ä¸Šç©¿50"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
      "å“¥å“¥MACDè—ç·šå›åˆ°0è»¸"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
      "æ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
      "ç­‰å¾…æ–¹å‘æˆç‚º DU"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º SDUï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "Kæ£’ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
      "Kæ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1,
      2
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º WDUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘MACDè—ç·šå›åˆ°0è»¸",
      "å“¥å“¥MACDè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
      "Kæ£’å›åˆ°å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1,
      2,
      3
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…æ–¹å‘æˆç‚º DU",
      "Kæ£’è·Œç ´ MA60",
      "MACD æ­»äº¡äº¤å‰"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…æ–¹å‘æˆç‚º DU",
      "Kæ£’è·Œç ´ MA60",
      "RSI è·Œç ´ 30"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º SDUï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "Kæ£’å›åˆ°å¼Ÿå¼Ÿçš„ EMA52",
      "Kæ£’å›åˆ°å“¥å“¥çš„å“¥å“¥ EMA52",
      "RSI é«˜æ–¼ 70"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "å¼Ÿå¼Ÿ MACD è—ç·šå›åˆ°0è»¸",
      "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’ å›åˆ° å¼Ÿå¼Ÿçš„EMA52",
      "Kæ£’ æ¼²åˆ° å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1,
      2,
      3
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º WDUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "å¼Ÿå¼Ÿ MACD è—ç·šå›åˆ°0è»¸",
      "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’ å›åˆ° å¼Ÿå¼Ÿçš„EMA52",
      "Kæ£’ æ¼²åˆ° å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1,
      2,
      3
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„EMA52"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘ MACDè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„EMA52"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º SDUï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
      "å“¥å“¥çš„å“¥å“¥ MACDè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
      "Kæ£’å›åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1,
      2,
      3
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º WDUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
    "options": [
      "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°å“¥å“¥çš„EMA52"
    ],
    "answer": [
      0,
      1
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…æ–¹å‘å½¢æˆDU",
      "Kæ£’æ”¶æ–‚è‡³ EMA20",
      "MACD æ­»äº¡äº¤å‰"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDUï¼Œæ–¹å‘ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…æ–¹å‘å½¢æˆDU",
      "RSI è·Œç ´ 30",
      "å¸ƒæ—é€šé“ç¸®å£"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º OWUï¼Œæ–¹å‘ç‚º SDUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆDU",
      "Kæ£’è§¸åŠä¸Šå½±ç·šé«˜é»",
      "MACD é›™ç·šè²¼åˆ"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º OWDï¼Œæ–¹å‘ç‚º SDUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆDU",
      "æˆäº¤é‡çªç ´æ—¥å‡å€¼",
      "EMA24 å‘ä¸‹å½é ­"
    ],
    "answer": [
      0
    ]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º 1STMï¼Œæ–¹å‘ç‚º SDUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆDU",
      "Kæ£’çªç ´ MA10",
      "RSI ä¸Šç©¿ 70"
    ],
    "answer": [
      0
    ]
  },
//åšç©ºçš„é¡Œç›®
//åšç©ºçš„é¡Œç›®
//åšç©ºçš„é¡Œç›®
//åšç©ºçš„é¡Œç›®
//åšç©ºçš„é¡Œç›®
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º SDDï¼Œæ–¹å‘ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "Kæ£’è·Œåˆ°å“¥å“¥çš„å“¥å“¥çš„ EMA52",
        "Kæ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„ EMA52",
        "æ–¹å‘MACD è—ç·šå›åˆ°0è»¸"
      ],
      "answer": [0]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "Kæ£’è·Œåˆ°å“¥å“¥çš„ EMA52",
        "Kæ£’æ¼²åˆ°å“¥å“¥çš„ EMA52",
        "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸"
      ],
      "answer": [0]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º WDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "å“¥å“¥MACDè—ç·šå›åˆ°0è»¸",
        "Kæ£’ å›åˆ°å“¥å“¥EMA52",
        "Kæ£’å›åˆ°å“¥å“¥çš„RSI 30ç‚ºé›¢å ´é»"
      ],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "Kæ£’å›åˆ°æ–¹å‘EMA52",
        "å“¥å“¥çš„MACDï¼Œè—ç·šå›åˆ°0è»¸"
      ],
      "answer": [0]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
        "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°å“¥å“¥çš„EMA52"
      ],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
        "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°å“¥å“¥çš„EMA52"
      ],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
        "å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°å“¥å“¥çš„EMA52"
      ],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º SDDï¼Œæ–¹å‘ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "æ–¹å‘ MACDè—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
        "Kæ£’è·Œåˆ°å“¥å“¥çš„å“¥å“¥ EMA52",
        "Kæ£’å›é«˜å¼Ÿå¼Ÿçš„ EMA52"
      ],
      "answer": [0, 1, 2]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º WDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "æ–¹å‘MACDï¼Œè—ç·šå›åˆ°0è»¸",
        "å“¥å“¥MACDï¼Œè—ç·šå›åˆ°0è»¸",
        "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
        "Kæ£’å›åˆ°å“¥å“¥ EMA52"
      ],
      "answer": [0, 1, 2, 3]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "ç­‰å¾…æ–¹å‘å½¢æˆ DU",
        "æ–¹å‘ 1STMï¼Œè—ç·šå›åˆ°0è»¸"
      ],
      "answer": [0]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDDï¼Œå“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": [
        "ç­‰å¾…æ–¹å‘å½¢æˆ DU",
        "æ–¹å‘ OWUï¼Œè—ç·šå›åˆ°0è»¸",
        "æ–¹å‘ OWUï¼Œç¢°åˆ°EMA52"
      ],
      "answer": [0]
    },
    {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º SDDï¼Œæ–¹å‘ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "Kæ£’å›åˆ°å¼Ÿå¼Ÿ EMA52",
      "Kæ£’å›åˆ°å“¥å“¥çš„å“¥å“¥ EMA52",
      "å“¥å“¥çš„å“¥å“¥MACDï¼Œè—ç·šå›0è»¸",
      "å¼Ÿå¼Ÿçš„MACDï¼Œè—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0, 1]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "å¼Ÿå¼Ÿ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "å“¥å“¥ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°å¼Ÿå¼Ÿçš„ EMA52",
      "Kæ£’è·Œåˆ°å“¥å“¥ EMA52"
    ],
    "answer": [0, 1, 2, 3]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º WDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "å¼Ÿå¼Ÿ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "å“¥å“¥ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°å¼Ÿå¼Ÿçš„ EMA52",
      "Kæ£’è·Œåˆ°å“¥å“¥ EMA52"
    ],
    "answer": [0, 1, 2, 3]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º SDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "æ–¹å‘MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„EMA52",
      "å¼Ÿå¼ŸMACDï¼Œè—ç·šå›0è»¸",
      "å“¥å“¥çš„å“¥å“¥ï¼Œè—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0, 1]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "å“¥å“¥MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°å“¥å“¥çš„ EMA52",
      "å¼Ÿå¼ŸMACDå›åˆ°0è»¸"
    ],
    "answer": [0, 1]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "æ–¹å‘ MACD å›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
      "å“¥å“¥çš„Kæ£’ç¢°åˆ°ï¼ŒEMA52é›¢å ´"
    ],
    "answer": [0, 1]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º SDDï¼Œæ–¹å‘ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "æ–¹å‘çš„ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "å“¥å“¥çš„å“¥å“¥ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52",
      "Kæ£’å›åˆ°å“¥å“¥çš„å“¥å“¥ EMA52"
    ],
    "answer": [0, 1, 2, 3]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º WDDï¼Œå“¥å“¥çš„å“¥å“¥ç‚º WDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "å“¥å“¥ MACDï¼Œè—ç·šå›åˆ°0è»¸",
      "æˆ–Kæ£’å›åˆ°å“¥å“¥çš„EMA52",
      "æˆ–Kæ£’å›åˆ°å¼Ÿå¼Ÿçš„EMA52"
    ],
    "answer": [0, 1]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆ DD",
      "å¼Ÿå¼Ÿ MACD è—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º WDDï¼Œå“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆ DD",
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º OWUï¼Œå“¥å“¥ç‚º SDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆ DD",
      "å¼Ÿå¼Ÿ MACD è—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º OWDï¼Œå“¥å“¥ç‚º SDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆ DD",
      "å¼Ÿå¼Ÿ MACD è—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0]
  },
  {
    "question": "å¼Ÿå¼Ÿç‚º 1STMï¼Œå“¥å“¥ç‚º SDDï¼Œä»»å‹™ç‚ºï¼Ÿ",
    "options": [
      "ç­‰å¾…å¼Ÿå¼Ÿå½¢æˆ DD",
      "æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸"
    ],
    "answer": [0]
  }
  ];
}






function loadFromLocalStorage() {
  const saved = localStorage.getItem(LS_KEY);
  if (saved) {
    try {
      questions = JSON.parse(saved);
      document.getElementById("editor").value = JSON.stringify(questions, null, 2);
    } catch (e) {
      console.warn("localStorage è¼‰å…¥å¤±æ•—ï¼š", e);
    }
  }
}

function saveToLocalStorage() {
  try {
    localStorage.setItem(LS_KEY, document.getElementById("editor").value);
  } catch (e) {
    alert("å„²å­˜å¤±æ•—ï¼");
  }
}

function renderQuestions(data = questions) {
  const container = document.getElementById("questions");
  const raw = document.getElementById("editor").value;
  try {
    questions = JSON.parse(raw);
  } catch (e) {
    alert("JSON æ ¼å¼éŒ¯èª¤ï¼è«‹æª¢æŸ¥ã€‚");
    return;
  }
  container.innerHTML = "";

  data.forEach((q, idx) => {
    const div = document.createElement("div");
    div.className = "card";

    // å…ˆç”¨ ol > li ç”¢ç”Ÿæœ‰ç·¨è™Ÿçš„é¸é … HTML
    const optsHtml = `
      <ul class="options">
        ${q.options.map((opt, i) => {
          const inputType = q.answer.length > 1 ? "checkbox" : "radio";
          // å¦‚æœå·²è§£é–ï¼Œä¸”é€™å€‹é¸é …æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Œå°±åŠ æ˜Ÿæ˜Ÿ
          const star = editorUnlocked && q.answer.includes(i)
            ? '<span class="correct-star">â˜…</span>' 
            : '';
          return `
            <li>
              <label>
                <input type="${inputType}" name="q${idx}" value="${i}">
                ${i + 1}. ${opt}${star}
              </label>
            </li>`;
        }).join("")}
      </ul>
    `;

    // æŠŠé¡Œç›®æ¨™é¡Œ + é¸é …ä¸€æ¬¡å¡é€² div.innerHTML
    div.innerHTML = `
      <div class="question-title">
        ${idx + 1}. ${q.question}
        ${editorUnlocked ? `<button class="delete-btn" onclick="deleteQuestion(${idx})">åˆªé™¤é¡Œç›®</button>` : ""}
      </div>
      ${optsHtml}
    `;

    container.appendChild(div);
  });

  // éš±è—çµæœå€ä¸¦åŒæ­¥æ›´æ–°ç·¨è¼¯å™¨å…§å®¹
  document.getElementById("result").classList.add("hidden");
  document.getElementById("editor").value = JSON.stringify(questions, null, 2);
  saveToLocalStorage();
}

function submitAnswers() {
  let allCorrect = true;
  const wrongList = [];
  selectedQuestions.forEach((q, idx) => {
    const selected = Array.from(document.querySelectorAll(`input[name='q${idx}']`))
      .filter(i => i.checked).map(i => parseInt(i.value));
    const correct = q.answer.sort().join(',');
    const given = selected.sort().join(',');
    if (correct !== given) {
      allCorrect = false;
      wrongList.push(idx + 1);
    }
  });
  const resultBox = document.getElementById("result");
  resultBox.classList.remove("hidden", "success", "error");
  window.scrollTo({ top: 0, behavior: 'smooth' });
  if (allCorrect) {
    resultBox.classList.add("success");
    resultBox.innerHTML = "ğŸ‰ å…¨éƒ¨ç­”å°ï¼å¤ªå¼·å•¦ï¼";
  } else {
    resultBox.classList.add("error");
    let detailList = wrongList.map(n => {
      const correctAns = selectedQuestions[n - 1].answer
        .slice()
        .sort((a, b) => a - b)
        .map(i => selectedQuestions[n - 1].options[i])
        .join("ã€");
      return `<li>âŒ ç¬¬ ${n} é¡Œï½œâœ… æ­£ç¢ºç­”æ¡ˆï¼š${correctAns}</li>`;
    }).join("");

    resultBox.innerHTML = `
      âŒ æœ‰éŒ¯èª¤é¡Œç›®ï¼šç¬¬ ${wrongList.join("ã€")} é¡Œ
      <ul>${detailList}</ul>
    `;
  }

}

function addQuestion() {
  const type = document.getElementById("newType").value;
  const isMulti = type === "multiple";
  const newQ = {
    question: isMulti ? "è«‹è¼¸å…¥å¤šé¸é¡Œå•é¡Œï¼ˆå¯è¤‡é¸ï¼‰" : "è«‹è¼¸å…¥å–®é¸é¡Œå•é¡Œ",
    options: ["é¸é … A", "é¸é … B", "é¸é … C"],
    answer: isMulti ? [0, 1] : [0]
  };
  try {
    questions = JSON.parse(document.getElementById("editor").value);
  } catch (e) {
    questions = [
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º SDUï¼Œå“¥å“¥çš„å“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": ["MACD é»ƒç·šç©¿è¶Š EMA20", "Kæ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52", "RSI ä¸Šç©¿50"],
      "answer": [1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": ["Kæ£’æ¼²åˆ°å“¥å“¥EMA52", "Kæ£’è·Œç ´å¸ƒæ—é€šé“ä¸‹è»Œ", "å‡ç·šç³¾çµçªç ´"],
      "answer": [0]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º WDUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
      "options": ["å“¥å“¥ MACD è—ç·šå›åˆ°0è»¸", "Kæ£’å›åˆ°å“¥å“¥ EMA52", "Kæ£’æ¼²åˆ°å“¥å“¥çš„å“¥å“¥çš„EMA52"],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º SDUï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿ",
      "options": ["Kæ£’å›åˆ°æ–¹å‘çš„ EMA52", "Kæ£’è·Œç ´æ–¹å‘çš„ EMA52", "RSI ä¸Šç©¿50"],
      "answer": [0]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º OWDï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
      "options": ["æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸", "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52", "æ­¤é¸é …ç‚ºå¹²æ“¾é …"],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º OWUï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
      "options": ["æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸", "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52", "Kæ£’è§¸åŠé€±æœŸé«˜é»"],
      "answer": [0, 1]
    },
    {
      "question": "å¼Ÿå¼Ÿç‚º SDUï¼Œæ–¹å‘ç‚º WDUï¼Œå“¥å“¥ç‚º 1STMï¼Œä»»å‹™ç‚ºï¼Ÿï¼ˆå¯è¤‡é¸ï¼‰",
      "options": ["æ–¹å‘ MACD è—ç·šå›åˆ°0è»¸", "Kæ£’å›åˆ°æ–¹å‘çš„ EMA52", "Kæ£’è·Œç ´æ˜¨æ—¥ä½é»"],
      "answer": [0, 1]
    }
  ];
  }
  questions.push(newQ);
  document.getElementById("editor").value = JSON.stringify(questions, null, 2);
  renderQuestions();
}

function deleteQuestion(index) {
  if (confirm("ç¢ºå®šè¦åˆªé™¤ç¬¬ " + (index + 1) + " é¡Œå—ï¼Ÿ")) {
    questions.splice(index, 1);
    document.getElementById("editor").value = JSON.stringify(questions, null, 2);
    renderQuestions();
  }
}

function unlockEditor() {
  const input = document.getElementById("passwordInput").value;
  const encoded = btoa(input);
  if (encoded === "MDUwOA==") {
    editorUnlocked = true;
    document.getElementById("unlockCard").classList.add("hidden");
    document.getElementById("editorCard").classList.remove("hidden");
    document.getElementById("adminPanel").style.display = "block";
    renderQuestions();
  } else {
    alert("å¯†ç¢¼éŒ¯èª¤ï¼");
  }
}

function logout() {
  editorUnlocked = false;
  document.getElementById("editorCard").classList.add("hidden");
  document.getElementById("adminPanel").style.display = "none";
  document.getElementById("unlockCard").classList.remove("hidden");
  renderQuestions();
}

questions = [];
loadFromLocalStorage();
if (!questions.length) {
  questions = getDefaultQuestions();
  document.getElementById("editor").value = JSON.stringify(questions, null, 2);
}
renderQuestions();

  // åŠ åœ¨é€™è£¡ï¼šrenderQuestions() & submitAnswers() ä¹‹å¾Œ
  function generateQuestions() {
    let count = parseInt(document.getElementById("questionCount").value, 10);
    count = Math.min(count, questions.length);
    const shuffled = questions.slice().sort(() => Math.random() - 0.5);
    selectedQuestions = shuffled.slice(0, count);
    renderQuestions(selectedQuestions);
  }

  // åŸæœ¬æœ€ä¸‹é¢çš„åˆå§‹åŒ–
  questions = [];
  loadFromLocalStorage();
  if (!questions.length) {
    questions = getDefaultQuestions();
    document.getElementById("editor").value = JSON.stringify(questions, null, 2);
  }
  // ä¸€é–‹å§‹ä¹Ÿå¯ä»¥è‡ªå‹•ç”¢ç”Ÿé¡Œç›®ï¼Œæˆ–ç•™çµ¦ä½¿ç”¨è€…è‡ªå·±é»
  // generateQuestions();
</script>

</body>
</html>
